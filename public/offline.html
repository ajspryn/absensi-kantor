<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Offline - Aplikasi Absensi</title>
        <link rel="stylesheet" href="/template/styles/bootstrap.css" />
        <link rel="stylesheet" href="/template/styles/style.css" />
        <style>
            body {
                background: #f8f9fa;
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                    Roboto, sans-serif;
            }
            .offline-container {
                max-width: 400px;
                margin: 50px auto;
                padding: 20px;
                text-align: center;
            }
            .offline-icon {
                font-size: 4rem;
                color: #dc3545;
                margin-bottom: 1rem;
            }
            .btn-retry {
                background: #007bff;
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
            }
            .btn-retry:hover {
                background: #0056b3;
            }
        </style>
    </head>
    <body>
        <div class="offline-container">
            <div class="offline-icon">üì∂</div>
            <h2>Tidak Ada Koneksi</h2>
            <p>
                Anda sedang offline. Periksa koneksi internet Anda dan coba
                lagi.
            </p>

            <div style="margin: 20px 0">
                <h5>Fitur Offline:</h5>
                <ul style="text-align: left; display: inline-block">
                    <li>‚úÖ Lihat data tersimpan</li>
                    <li>‚úÖ Akses halaman utama</li>
                    <li>‚ùå Input data baru</li>
                    <li>‚ùå Sync server</li>
                </ul>
            </div>

            <button onclick="tryReload()" class="btn-retry">
                üîÑ Coba Lagi
            </button>

            <div style="margin-top: 20px">
                <small>Status: <span id="status">Offline</span></small>
            </div>
        </div>

        <script>
            function tryReload() {
                if (navigator.onLine) {
                    window.location.reload();
                } else {
                    alert("Masih tidak ada koneksi. Coba lagi nanti.");
                }
            }

            function updateStatus() {
                const status = document.getElementById("status");
                if (navigator.onLine) {
                    status.textContent = "Online";
                    status.style.color = "#28a745";
                    setTimeout(() => window.location.reload(), 1000);
                } else {
                    status.textContent = "Offline";
                    status.style.color = "#dc3545";
                }
            }

            window.addEventListener("online", updateStatus);
            window.addEventListener("offline", updateStatus);
            updateStatus();
        </script>
    </body>
</html>
